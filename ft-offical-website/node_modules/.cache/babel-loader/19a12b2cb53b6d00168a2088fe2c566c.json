{"ast":null,"code":"import _extends from \"/Users/chengpeng/workspace/Ft-Official-Website/ft-offical-website/node_modules/@babel/runtime/helpers/esm/extends\";\nvar _jsxFileName = \"/Users/chengpeng/workspace/Ft-Official-Website/ft-offical-website/src/modules/home/newsroom/component/newsmore.component.jsx\";\n\n/* Create by Chelly P */\nimport React, { Component } from 'react';\nimport NewsCard from './newscard.component';\nimport NewsCollapse from './newscollapse.component';\nimport NewsData from '../../fake_data/news_data';\nimport './newsmore.component.style.css';\n\nclass NewsMore extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      indexList: [],\n      totalNews: NewsData.length,\n      ViewMore: true\n    };\n  } // componentDidMount() {\n  //     console.log('hdfy')\n  //     let self=this;\n  //     axios({\n  //         method: 'get' ,\n  //         url: 'http://localhost:3000/news/display' ,\n  //     })\n  //     .then(function (response) {\n  //         console.log(response.data[4]['type']);\n  //         // console.log(JSON.stringify(response.data))\n  //         var target=JSON.stringify(response.data)\n  //         self.setState({indexList:target}, ()=>{\n  //             console.log(self.state.indexList);\n  //         })\n  //         // console.log(self.state.indexList);\n  //       })\n  //     .catch(function (error) {\n  //         console.log(error);\n  //       });\n  // }\n\n  /* componentDidMount() {\n      console.log('hdfy')\n      axios({\n          method: 'get' ,\n          url: 'http://localhost:3000/news/display' ,\n      })\n      .then((response) => {\n          console.log(response.data[4]['type']);\n          // console.log(JSON.stringify(response.data))\n          var target=response.data\n          this.setState({indexList:target})\n          // console.log(self.state.indexList);\n        })\n      .catch((error) => {\n          console.log(error);\n        });\n  } */\n\n\n  componentWillMount() {\n    this.setState({\n      indexList: this.timeSorting()\n    });\n\n    if (this.state.totalNews < 9) {\n      this.setState({\n        ViewMore: false\n      });\n    }\n  }\n\n  timeSorting() {\n    var sortedList = NewsData;\n    sortedList.sort(function (a, b) {\n      return new Date(b.date) - new Date(a.date);\n    });\n    return sortedList;\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"fh_news\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"ft-w1140-section-fs40 fh_news_title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Fantuan News\"), React.createElement(\"p\", {\n      className: \"ft-w1140-section-fs16 fh_news_title_contact\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Advertising information please contact us pr@fantuan.ca\")), React.createElement(\"div\", {\n      className: \"fh_news_group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, this.state.indexList.slice(0, 9).map((_ref) => {\n      let otherCollectionProps = _extends({}, _ref);\n\n      return React.createElement(NewsCard, Object.assign({}, otherCollectionProps, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }));\n    })), this.state.ViewMore ? React.createElement(\"div\", {\n      className: \"fh_news\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(NewsCollapse, Object.assign({}, this.state, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }))) : null);\n  }\n\n}\n\nexport default NewsMore;","map":{"version":3,"sources":["/Users/chengpeng/workspace/Ft-Official-Website/ft-offical-website/src/modules/home/newsroom/component/newsmore.component.jsx"],"names":["React","Component","NewsCard","NewsCollapse","NewsData","NewsMore","constructor","props","state","indexList","totalNews","length","ViewMore","componentWillMount","setState","timeSorting","sortedList","sort","a","b","Date","date","render","slice","map","otherCollectionProps"],"mappings":";;;AAAA;AACA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,OAAOC,QAAP,MAAqB,sBAArB;AACA,OAAOC,YAAP,MAAyB,0BAAzB;AAEA,OAAOC,QAAP,MAAqB,2BAArB;AAEA,OAAO,gCAAP;;AAEA,MAAMC,QAAN,SAAuBJ,SAAvB,CAAiC;AAE7BK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,SAAS,EAAE,EADF;AAETC,MAAAA,SAAS,EAAEN,QAAQ,CAACO,MAFX;AAGTC,MAAAA,QAAQ,EAAE;AAHD,KAAb;AAKH,GAT4B,CAW7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AACA;;;;;;;;;;;;;;;;;;;AAkBAC,EAAAA,kBAAkB,GAAG;AACjB,SAAKC,QAAL,CAAc;AACVL,MAAAA,SAAS,EAAE,KAAKM,WAAL;AADD,KAAd;;AAGA,QAAI,KAAKP,KAAL,CAAWE,SAAX,GAAuB,CAA3B,EAA8B;AAC1B,WAAKI,QAAL,CAAc;AACVF,QAAAA,QAAQ,EAAE;AADA,OAAd;AAGH;AACJ;;AAEDG,EAAAA,WAAW,GAAG;AACV,QAAIC,UAAU,GAAGZ,QAAjB;AACAY,IAAAA,UAAU,CAACC,IAAX,CAAgB,UAASC,CAAT,EAAYC,CAAZ,EAAe;AAC3B,aAAO,IAAIC,IAAJ,CAASD,CAAC,CAACE,IAAX,IAAmB,IAAID,IAAJ,CAASF,CAAC,CAACG,IAAX,CAA1B;AACH,KAFD;AAGA,WAAOL,UAAP;AACH;;AAEDM,EAAAA,MAAM,GAAG;AACL,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAI,MAAA,SAAS,EAAC,qCAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,EAEI;AAAG,MAAA,SAAS,EAAC,6CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iEAFJ,CADJ,EAMI;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEQ,KAAKd,KAAL,CAAWC,SAAX,CAAqBc,KAArB,CAA2B,CAA3B,EAA6B,CAA7B,EAAgCC,GAAhC,CAAoC;AAAA,UAAMC,oBAAN;;AAAA,aAChC,oBAAC,QAAD,oBAAeA,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADgC;AAAA,KAApC,CAFR,CANJ,EAcQ,KAAKjB,KAAL,CAAWI,QAAX,GACA;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,YAAD,oBAAmB,KAAKJ,KAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADJ,CADA,GAGO,IAjBf,CADJ;AAsBH;;AA5F4B;;AA+FjC,eAAeH,QAAf","sourcesContent":["/* Create by Chelly P */\nimport React, { Component } from 'react';\n\nimport NewsCard from './newscard.component';\nimport NewsCollapse from './newscollapse.component';\n\nimport NewsData from '../../fake_data/news_data';\n\nimport './newsmore.component.style.css';\n\nclass NewsMore extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            indexList: [],\n            totalNews: NewsData.length,\n            ViewMore: true,\n        };\n    }\n\n    // componentDidMount() {\n    //     console.log('hdfy')\n    //     let self=this;\n    //     axios({\n    //         method: 'get' ,\n    //         url: 'http://localhost:3000/news/display' ,\n    //     })\n    //     .then(function (response) {\n    //         console.log(response.data[4]['type']);\n    //         // console.log(JSON.stringify(response.data))\n    //         var target=JSON.stringify(response.data)\n    //         self.setState({indexList:target}, ()=>{\n    //             console.log(self.state.indexList);\n    //         })\n    //         // console.log(self.state.indexList);\n    //       })\n    //     .catch(function (error) {\n    //         console.log(error);\n    //       });\n        \n    // }\n    /* componentDidMount() {\n        console.log('hdfy')\n        axios({\n            method: 'get' ,\n            url: 'http://localhost:3000/news/display' ,\n        })\n        .then((response) => {\n            console.log(response.data[4]['type']);\n            // console.log(JSON.stringify(response.data))\n            var target=response.data\n            this.setState({indexList:target})\n            // console.log(self.state.indexList);\n          })\n        .catch((error) => {\n            console.log(error);\n          });\n    } */\n    \n    componentWillMount() {\n        this.setState({\n            indexList: this.timeSorting()\n        }) \n        if (this.state.totalNews < 9) {\n            this.setState({\n                ViewMore: false\n            })\n        }\n    }\n\n    timeSorting() {\n        var sortedList = NewsData;\n        sortedList.sort(function(a, b) {\n            return new Date(b.date) - new Date(a.date);\n        })\n        return sortedList;\n    }\n\n    render() {\n        return (\n            <div>\n                <div className='fh_news'>\n                    <h1 className='ft-w1140-section-fs40 fh_news_title'>Fantuan News</h1>\n                    <p className='ft-w1140-section-fs16 fh_news_title_contact'>Advertising information please contact us pr@fantuan.ca</p>\n                </div>\n\n                <div className='fh_news_group'>\n                    {\n                        this.state.indexList.slice(0,9).map(({ ...otherCollectionProps }) => (\n                            <NewsCard { ...otherCollectionProps } />\n                        ))\n                    }\n                </div>\n                {\n                    this.state.ViewMore?\n                    <div className='fh_news'>\n                        <NewsCollapse { ...this.state } />\n                    </div>:null\n                }\n            </div>\n        )\n    }\n}\n\nexport default NewsMore;"]},"metadata":{},"sourceType":"module"}