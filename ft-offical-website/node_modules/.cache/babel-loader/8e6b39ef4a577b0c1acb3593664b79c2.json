{"ast":null,"code":"/*\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\nimport * as React from 'react';\nimport FormattedMessage from './message';\nimport { Context } from './injectIntl';\nimport { invariantIntlContext } from '../utils';\n\nclass FormattedHTMLMessage extends FormattedMessage {\n  render() {\n    return React.createElement(Context.Consumer, null, intl => {\n      if (!this.props.defaultMessage) {\n        invariantIntlContext(intl);\n      }\n\n      const formatHTMLMessage = intl.formatHTMLMessage,\n            textComponent = intl.textComponent;\n      const _this$props = this.props,\n            id = _this$props.id,\n            description = _this$props.description,\n            defaultMessage = _this$props.defaultMessage,\n            rawValues = _this$props.values,\n            children = _this$props.children;\n      let Component = this.props.tagName; // This is bc of TS3.3 doesn't recognize `defaultProps`\n\n      if (!Component) {\n        Component = textComponent || 'span';\n      }\n\n      const descriptor = {\n        id,\n        description,\n        defaultMessage\n      };\n      const formattedHTMLMessage = formatHTMLMessage(descriptor, rawValues);\n\n      if (typeof children === 'function') {\n        return children(formattedHTMLMessage);\n      } // Since the message presumably has HTML in it, we need to set\n      // `innerHTML` in order for it to be rendered and not escaped by React.\n      // To be safe, all string prop values were escaped when formatting the\n      // message. It is assumed that the message is not UGC, and came from the\n      // developer making it more like a template.\n      //\n      // Note: There's a perf impact of using this component since there's no\n      // way for React to do its virtual DOM diffing.\n\n\n      const html = {\n        __html: formattedHTMLMessage\n      };\n      return React.createElement(Component, {\n        dangerouslySetInnerHTML: html\n      });\n    });\n  }\n\n}\n\nFormattedHTMLMessage.displayName = 'FormattedHTMLMessage';\nFormattedHTMLMessage.defaultProps = Object.assign({}, FormattedMessage.defaultProps, {\n  tagName: 'span'\n});\nexport default FormattedHTMLMessage;","map":{"version":3,"sources":["/Users/chengpeng/workspace/Ft-Official-Website/ft-offical-website/node_modules/react-intl/lib/components/html-message.js"],"names":["React","FormattedMessage","Context","invariantIntlContext","FormattedHTMLMessage","render","createElement","Consumer","intl","props","defaultMessage","formatHTMLMessage","textComponent","id","description","rawValues","values","children","Component","tagName","descriptor","formattedHTMLMessage","html","__html","dangerouslySetInnerHTML","displayName","defaultProps","Object","assign"],"mappings":"AAAA;;;;;AAKA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAOC,gBAAP,MAA6B,WAA7B;AACA,SAASC,OAAT,QAAwB,cAAxB;AACA,SAASC,oBAAT,QAAqC,UAArC;;AACA,MAAMC,oBAAN,SAAmCH,gBAAnC,CAAoD;AAChDI,EAAAA,MAAM,GAAG;AACL,WAAQL,KAAK,CAACM,aAAN,CAAoBJ,OAAO,CAACK,QAA5B,EAAsC,IAAtC,EAA6CC,IAAD,IAAU;AAC1D,UAAI,CAAC,KAAKC,KAAL,CAAWC,cAAhB,EAAgC;AAC5BP,QAAAA,oBAAoB,CAACK,IAAD,CAApB;AACH;;AAHyD,YAIlDG,iBAJkD,GAIbH,IAJa,CAIlDG,iBAJkD;AAAA,YAI/BC,aAJ+B,GAIbJ,IAJa,CAI/BI,aAJ+B;AAAA,0BAKgB,KAAKH,KALrB;AAAA,YAKlDI,EALkD,eAKlDA,EALkD;AAAA,YAK9CC,WAL8C,eAK9CA,WAL8C;AAAA,YAKjCJ,cALiC,eAKjCA,cALiC;AAAA,YAKTK,SALS,eAKjBC,MALiB;AAAA,YAKEC,QALF,eAKEA,QALF;AAAA,UAM3CC,SAN2C,GAM7B,KAAKT,KANwB,CAMpDU,OANoD,EAO1D;;AACA,UAAI,CAACD,SAAL,EAAgB;AACZA,QAAAA,SAAS,GAAGN,aAAa,IAAI,MAA7B;AACH;;AACD,YAAMQ,UAAU,GAAG;AAAEP,QAAAA,EAAF;AAAMC,QAAAA,WAAN;AAAmBJ,QAAAA;AAAnB,OAAnB;AACA,YAAMW,oBAAoB,GAAGV,iBAAiB,CAACS,UAAD,EAAaL,SAAb,CAA9C;;AACA,UAAI,OAAOE,QAAP,KAAoB,UAAxB,EAAoC;AAChC,eAAOA,QAAQ,CAACI,oBAAD,CAAf;AACH,OAfyD,CAgB1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,YAAMC,IAAI,GAAG;AAAEC,QAAAA,MAAM,EAAEF;AAAV,OAAb;AACA,aAAOrB,KAAK,CAACM,aAAN,CAAoBY,SAApB,EAA+B;AAAEM,QAAAA,uBAAuB,EAAEF;AAA3B,OAA/B,CAAP;AACH,KA1BO,CAAR;AA2BH;;AA7B+C;;AA+BpDlB,oBAAoB,CAACqB,WAArB,GAAmC,sBAAnC;AACArB,oBAAoB,CAACsB,YAArB,GAAoCC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB3B,gBAAgB,CAACyB,YAAnC,EAAiD;AAAEP,EAAAA,OAAO,EAAE;AAAX,CAAjD,CAApC;AACA,eAAef,oBAAf","sourcesContent":["/*\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\nimport * as React from 'react';\nimport FormattedMessage from './message';\nimport { Context } from './injectIntl';\nimport { invariantIntlContext } from '../utils';\nclass FormattedHTMLMessage extends FormattedMessage {\n    render() {\n        return (React.createElement(Context.Consumer, null, (intl) => {\n            if (!this.props.defaultMessage) {\n                invariantIntlContext(intl);\n            }\n            const { formatHTMLMessage, textComponent } = intl;\n            const { id, description, defaultMessage, values: rawValues, children, } = this.props;\n            let { tagName: Component } = this.props;\n            // This is bc of TS3.3 doesn't recognize `defaultProps`\n            if (!Component) {\n                Component = textComponent || 'span';\n            }\n            const descriptor = { id, description, defaultMessage };\n            const formattedHTMLMessage = formatHTMLMessage(descriptor, rawValues);\n            if (typeof children === 'function') {\n                return children(formattedHTMLMessage);\n            }\n            // Since the message presumably has HTML in it, we need to set\n            // `innerHTML` in order for it to be rendered and not escaped by React.\n            // To be safe, all string prop values were escaped when formatting the\n            // message. It is assumed that the message is not UGC, and came from the\n            // developer making it more like a template.\n            //\n            // Note: There's a perf impact of using this component since there's no\n            // way for React to do its virtual DOM diffing.\n            const html = { __html: formattedHTMLMessage };\n            return React.createElement(Component, { dangerouslySetInnerHTML: html });\n        }));\n    }\n}\nFormattedHTMLMessage.displayName = 'FormattedHTMLMessage';\nFormattedHTMLMessage.defaultProps = Object.assign({}, FormattedMessage.defaultProps, { tagName: 'span' });\nexport default FormattedHTMLMessage;\n"]},"metadata":{},"sourceType":"module"}